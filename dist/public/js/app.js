(function(n){function e(e){for(var a,c,i=e[0],s=e[1],l=e[2],u=0,d=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a]);p&&p(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),t()}function t(){for(var n,e=0;e<r.length;e++){for(var t=r[e],a=!0,c=1;c<t.length;c++){var s=t[c];0!==o[s]&&(a=!1)}a&&(r.splice(e--,1),n=i(i.s=t[0]))}return n}var a={},o={app:0},r=[];function c(n){return i.p+"js/"+({about:"about"}[n]||n)+".js"}function i(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(n){var e=[],t=o[n];if(0!==t)if(t)e.push(t[2]);else{var a=new Promise((function(e,a){t=o[n]=[e,a]}));e.push(t[2]=a);var r,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=c(n);var l=new Error;r=function(e){s.onerror=s.onload=null,clearTimeout(u);var t=o[n];if(0!==t){if(t){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;l.message="Loading chunk "+n+" failed.\n("+a+": "+r+")",l.name="ChunkLoadError",l.type=a,l.request=r,t[1](l)}o[n]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:s})}),12e4);s.onerror=s.onload=r,document.head.appendChild(s)}return Promise.all(e)},i.m=n,i.c=a,i.d=function(n,e,t){i.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},i.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,e){if(1&e&&(n=i(n)),8&e)return n;if(4&e&&"object"===typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var a in n)i.d(t,a,function(e){return n[e]}.bind(null,a));return t},i.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return i.d(e,"a",e),e},i.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},i.p="/",i.oe=function(n){throw console.error(n),n};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var p=l;r.push([0,"chunk-vendors"]),t()})({0:function(n,e,t){n.exports=t("cd49")},"0551":function(n,e,t){n.exports=t.p+"img/holochain_logo.png"},"082e":function(n,e,t){},"10de":function(n,e,t){},"3e17":function(n,e,t){"use strict";t("082e")},"9c15":function(n,e,t){},a648:function(n,e,t){"use strict";t("10de")},bc29:function(n,e,t){},cd49:function(n,e,t){"use strict";t.r(e);t("9531"),t("26d3"),t("2007"),t("41ab");var a=t("4430");function o(n,e,t,o,r,c){var i=Object(a["z"])("router-view");return Object(a["s"])(),Object(a["d"])(i)}var r=Object(a["k"])({name:"App"}),c=(t("fb43"),t("ee5a")),i=t.n(c);const s=i()(r,[["render",o]]);var l=s,u=(t("ef1f"),t("f3b8"),t("918c"),t("9c2b")),p=function(n){return Object(a["v"])("data-v-4b114c66"),n=n(),Object(a["t"])(),n},d={class:"row",style:{flex:"1"}},h={class:"column",style:{"flex-basis":"500px","box-shadow":"1px 0px 4px grey","background-color":"white","align-items":"stretch"}},m={class:"column center",style:{flex:"1"}},f=["src"],b=p((function(){return Object(a["g"])("h1",null,"Holochain RAD Tools",-1)})),g=Object(a["h"])('<div class="column" style="box-shadow:grey 1px 0px 4px;padding:48px;background-color:#4720e3;align-items:center;color:white;" data-v-4b114c66><span class="secondary-title" data-v-4b114c66>Next Steps</span><span class="documentation-item" data-v-4b114c66><a href="https://developer.holochain.org/concepts/" data-v-4b114c66>Core Concepts</a></span><span class="documentation-item" data-v-4b114c66><a href="https://docs.rs/hdk" data-v-4b114c66>HDK Documentation</a></span><span class="documentation-item" data-v-4b114c66><a href="https://forum.holochain.org/" data-v-4b114c66>Holochain Forum</a></span><span class="documentation-item" data-v-4b114c66><a href="https://github.com/holochain/happ-build-tutorial/" data-v-4b114c66>hApp Build Tutorial</a></span><span class="documentation-item" data-v-4b114c66><a href="https://holochain-gym.github.io/developers/basic/zome-functions/" data-v-4b114c66>Holochain Gym Tutorial</a></span></div>',1),y={class:"flex-scrollable-parent",style:{flex:"1"}},j={class:"flex-scrollable-container"},v={class:"flex-scrollable-y"},O={style:{padding:"16px"}};function w(n,e,o,r,c,i){var s=Object(a["z"])("mwc-button"),l=Object(a["z"])("scaffold");return Object(a["s"])(),Object(a["f"])("div",d,[Object(a["g"])("div",h,[Object(a["g"])("div",m,[Object(a["g"])("img",{src:t("0551"),class:"my-3",contain:"",height:"200",width:"200"},null,8,f),b,Object(a["j"])(s,{icon:"bug_report",label:"Report Issue",onClick:e[0]||(e[0]=function(e){return n.open("https://github.com/holochain/scaffolding/issues")})})]),g]),Object(a["g"])("div",y,[Object(a["g"])("div",j,[Object(a["g"])("div",v,[Object(a["g"])("div",O,[Object(a["j"])(l)])])])])])}var x=function(n){return Object(a["v"])("data-v-674c3f78"),n=n(),Object(a["t"])(),n},k={class:"column",style:{"align-items":"center"}},C={style:{width:"800px"}},_={class:"column"},N=Object(a["i"])("This will "),A=Object(a["i"])(" in the directory where you executed the CLI with the following structure."),z={key:0,class:"column"},T=x((function(){return Object(a["g"])("h3",null,"Manual Setup",-1)})),I=x((function(){return Object(a["g"])("span",null,[Object(a["i"])("If you haven't yet, "),Object(a["g"])("b",null,[Object(a["g"])("a",{href:"https://nixos.org/download.html"},"install nix-shell"),Object(a["i"])(".")])],-1)})),D=x((function(){return Object(a["g"])("span",null,"Run this to get started:",-1)})),S={class:"language-bash",style:{"word-break":"break-all"}},E=x((function(){return Object(a["g"])("span",null,"After that, you can safely close this window.",-1)})),P=x((function(){return Object(a["g"])("span",{style:{"margin-top":"16px"}},"OR",-1)})),R=x((function(){return Object(a["g"])("h3",null,"Automatic Setup",-1)})),H=x((function(){return Object(a["g"])("span",null,'You can automatically setup your app by selecting "SETUP AND EXIT".',-1)})),B={key:1},U=x((function(){return Object(a["g"])("span",null,"You can safely close this window now, and wait for the automatic setup to complete in the terminal window.",-1)})),q=[U];function V(n,e,t,o,r,c){var i=Object(a["z"])("AppDefinitionBuilder"),s=Object(a["z"])("FileNode"),l=Object(a["z"])("ui5-tree"),u=Object(a["z"])("mwc-button"),p=Object(a["z"])("mwc-dialog");return Object(a["s"])(),Object(a["f"])(a["a"],null,[Object(a["g"])("div",k,[Object(a["g"])("div",C,[Object(a["j"])(i,{onScaffoldApp:e[0]||(e[0]=function(e){return n.generateFileChanges(e)})})])]),Object(a["j"])(p,{ref:"dialog",heading:"Preview",scrimClickAction:"",escapeKeyAction:""},{default:Object(a["E"])((function(){return[Object(a["g"])("div",_,[Object(a["g"])("span",null,[N,Object(a["g"])("b",null,"create a new folder "+Object(a["B"])(n.happName),1),A]),Object(a["j"])(l,null,{default:Object(a["E"])((function(){return[Object(a["j"])(s,{fileTree:n.fileChanges},null,8,["fileTree"])]})),_:1})]),Object(a["j"])(u,{slot:"secondaryAction",dialogAction:"close",label:"Cancel"}),Object(a["j"])(u,{slot:"primaryAction",dialogAction:"close",onClick:e[1]||(e[1]=function(e){return n.scaffoldApp()}),label:"Create"})]})),_:1},512),Object(a["j"])(p,{ref:"helpdialog",heading:"App Scaffolded!"},{default:Object(a["E"])((function(){return[n.settingUp?(Object(a["s"])(),Object(a["f"])("div",B,q)):(Object(a["s"])(),Object(a["f"])("div",z,[T,I,D,Object(a["g"])("pre",null,[Object(a["g"])("code",S,"cd "+Object(a["B"])(n.currentDir)+"/"+Object(a["B"])(n.happName)+"\nnix-env -iA cachix -f https://cachix.org/api/v1/install\ncachix use holochain-ci\nnix-shell\nnpm install",1)]),E,P,R,H])),n.settingUp?Object(a["e"])("",!0):(Object(a["s"])(),Object(a["d"])(u,{key:2,slot:"secondaryAction",dialogAction:"close",label:"Close"})),Object(a["j"])(u,{slot:"primaryAction",onClick:e[2]||(e[2]=function(e){return n.setup()}),label:n.settingUp?"Setting up...":"Setup and Exit",disabled:n.settingUp},null,8,["label","disabled"])]})),_:1},512)],64)}var M,Z=t("7c6c"),$=t("42c2"),L=(t("868d"),t("d86f"),t("df26"),t("d3e3")),G=Object(L["io"])();(function(n){n["ApplyChanges"]="ApplyChanges",n["ReadDir"]="ReadDir",n["AutomaticSetup"]="AutomaticSetup",n["Exit"]="Exit"})(M||(M={}));var F;t("cfce");(function(n){n["InDir"]="InDir",n["Create"]="Create",n["Modify"]="Modify",n["Delete"]="Delete"})(F||(F={}));var K=function(n){var e=n.zomeName,t=(n.author,n.hdkVersion);return'[package]\nedition = "2018"\nname = "'.concat(e,'"\nversion = "0.0.1"\n\n[lib]\ncrate-type = ["cdylib", "rlib"]\nname = "').concat(e,'"\n\n[dependencies]\nserde = "1"\nderive_more = "0"\nchrono = {version = "0.4", features = ["serde"]}\n\nhdk = "').concat(t,'"\nholo_hash = { version = "0.0.7", features = ["encoding"] }\n')},W=function(){return'use hdk::prelude::*;\nuse hdk::prelude::holo_hash::*;\n\n#[hdk_entry(id = "post")]\npub struct Post(String);\n\nentry_defs![\n    Post::entry_def()\n];\n\n#[hdk_extern]\npub fn create_post(post: Post) -> ExternResult<EntryHashB64> {\n    create_entry(&post)?;\n    let hash = hash_entry(&post)?;\n\n    Ok(EntryHashB64::from(hash))\n}\n\n#[hdk_extern]\npub fn get_post(entry_hash: EntryHashB64) -> ExternResult<Post> {\n    let element = get(EntryHash::from(entry_hash), GetOptions::default())?.ok_or(WasmError::Guest(String::from("Post not found")))?;\n\n    let post: Post = element.entry().to_app_option()?.ok_or(WasmError::Guest(String::from("Malformed post")))?;\n\n    Ok(post)\n}\n'};function Y(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0.0.108";return[{type:F.Create,fileName:"Cargo.toml",content:K({zomeName:n,author:e,hdkVersion:t})}]}function J(n){return[{type:F.InDir,dirName:"src",changes:[{type:F.Create,fileName:"lib.rs",content:W()}]}]}function X(n){return[].concat(Object(Z["a"])(Y(n.name,"<AUTHOR>")),Object(Z["a"])(J(n.name)))}t("2aa5"),t("32f5");var Q=t("6b26"),nn=function(n){return en(tn(n))},en=function(n){return n.replace(/-./g,(function(n){return n.toUpperCase()[1]}))},tn=function(n){return n.replace(/_./g,(function(n){return n.toUpperCase()[1]}))},an=function(n){return n.replace(/[A-Z]/g,(function(n){return"_".concat(n.toLowerCase())})).replace(/\-/g,(function(n){return"_"}))};function on(n,e){return"".concat(rn(n,e),"workdir/").concat(e,".dna")}function rn(n,e){return 1===n.dnas.length?"dna/":"dnas/".concat(e,"/")}function cn(n){return"ui"}function sn(n){return Object(Q["a"])(n).reduce((function(n,e){return"".concat(n).concat(e)}),"")}var ln=function(n,e){return'---\nmanifest_version: "1"\nname: '.concat(n.name,"\nuuid: 00000000-0000-0000-0000-000000000000\nproperties: ~\nzomes: \n").concat(sn(n.zomes.map((function(n){return"  - name: ".concat(n.name,"\n    bundled: ").concat(e,"target/wasm32-unknown-unknown/release/").concat(n.name,".wasm\n")}))),"\n")};function un(n,e){return[{type:F.Create,fileName:"dna.yaml",content:ln(n,"".concat(e,"../"))}]}function pn(n,e){return[{type:F.InDir,dirName:"workdir",changes:un(n,e)},{type:F.InDir,dirName:"zomes",changes:n.zomes.map((function(n){return{type:F.InDir,dirName:n.name,changes:X(n)}}))}]}var dn=function(n){var e=n.holochainVersion,t=n.lairKeystoreHashes;return'{\n  holonixPath ?  builtins.fetchTarball { url = "https://github.com/holochain/holonix/archive/a0dcdfac2c8783c58805175dd5bc5528ccbb35fd.tar.gz"; }\n}:\n\nlet\n  holonix = import (holonixPath) {\n    include = {\n        # making this explicit even though it\'s the default\n        holochainBinaries = true;\n    };\n\n    holochainVersionId = "custom";\n\n    holochainVersion = {\n      rev = "'.concat(e.rev,'";\n      sha256 = "').concat(e.sha256,'";\n      cargoSha256 = "').concat(e.cargoSha256,'";\n      bins = {\n        holochain = "holochain";\n        hc = "hc";\n      };\n\n      lairKeystoreHashes = {\n        sha256 = "').concat(t.sha256,'";\n        cargoSha256 = "').concat(t.cargoSha256,'";\n      };\n    };\n  };\n  nixpkgs = holonix.pkgs;\nin nixpkgs.mkShell {\n  inputsFrom = [ holonix.main ];\n  buildInputs = with nixpkgs; [\n    binaryen\n    nodejs-16_x\n  ];\n}\n')};function hn(){return[{type:F.Create,fileName:"default.nix",content:dn({holochainVersion:{rev:"4347e4dbfd4f957576275fb2e8b3deda90ccbfd7",sha256:"sha256:1g3sm1x786zr9w324kxlsf50ajrmpigjj6l1xnm1cwl2hbqq7hxz",cargoSha256:"sha256:1i6i80vf7jjw1h0b3dsh5n0x8g5g3h16sw9rskw84yipqbv51nc7"},lairKeystoreHashes:{sha256:"1ibynj1mn1mc59x7b2jn8l1vv9m8czwcvpq81qgbpa52jgjqlf14",cargoSha256:"1dnfjdk3b4l7ysvm81r061mxly889bbcmg2h11nkgmfj79djka9s"}})}]}var mn=function(n){return"[workspace]\nmembers = [\n".concat(sn(n.dnas.map((function(e){return e.zomes.map((function(t){return'      "'.concat(n.dnas.length>1?"dnas/".concat(e.name):"dna","/zomes/").concat(t.name,'",\n')}))}))),']\n\n[profile.dev]\nopt-level = "z"\n\n[profile.release]\nopt-level = "z"\n')},fn=function(n){return'---\nmanifest_version: "1"\nname: '.concat(n.name,"\ndescription: ~\nslots:\n").concat(sn(n.dnas.map((function(e){return"\n  - id: ".concat(e.name,'\n    provisioning:\n      strategy: create\n      deferred: false\n    dna:\n      bundled: "../').concat(on(n,e.name),'"\n      properties: ~\n      uuid: ~\n      version: ~\n      clone_limit: 0\n')}))),"\n")},bn=function(n){return'{\n  "name": "'.concat(n.name,'-dev",\n  "private": true,\n  "workspaces": [\n    "ui",\n    "tests"\n  ],\n  "scripts": {\n    "start": "npm run build:happ && cross-env HC_PORT=$(port) concurrently -k \\"npm run start:happ\\" \\"npm run start -w ').concat(cn(n),'\\"",\n    "test": "npm run build:happ && npm t -w tests",\n    "start:happ": "hc sandbox clean && RUST_LOG=warn hc s generate ./workdir/').concat(n.name,".happ --run=$HC_PORT -a ").concat(n.name,' network mdns",\n    "package": "npm run build:happ && npm run package:ui && hc web-app pack workdir",\n    "package:ui": "npm run build -w ').concat(cn(n),' && cd ui/dist && bestzip ../dist.zip *",\n    "build:happ": "npm run build:dnas && hc app pack ./workdir",\n    "build:dnas": "npm run build:zomes').concat(sn(n.dnas.map((function(e){return" && hc dna pack ./".concat(rn(n,e.name),"workdir")}))),'",\n    "build:zomes": "CARGO_TARGET_DIR=target cargo build --release --target wasm32-unknown-unknown"\n  },\n  "devDependencies": {\n    "concurrently": "^6.2.1",\n    "cross-env": "^7.0.3",\n    "new-port-cli": "^1.0.0",\n    "rimraf": "^3.0.2",\n    "bestzip": "^2.2.0"\n  }\n}\n')};function gn(n){return[{type:F.Create,fileName:"package.json",content:bn(n)}]}var yn=function(n){return'{\n  "name": "tests",\n  "version": "0.0.0",\n  "description": "",\n  "main": "index.js",\n  "scripts": {\n    "test": "TRYORAMA_LOG_LEVEL=info RUST_BACKTRACE=1 RUST_LOG=holochain::core::ribosome::host_fn::debug=debug TRYORAMA_HOLOCHAIN_PATH=\\"holochain\\" node --loader ts-node/esm --experimental-specifier-resolution=node src/index.ts | tap-diff"\n  },\n  "author": "",\n  "license": "CAL-1.0",\n  "dependencies": {\n    "@msgpack/msgpack": "^2.7.0",\n    "esm": "^3.2.25",\n    "js-base64": "^3.6.1",\n    "lodash-es": "^4.17.21",\n    "path": "^0.12.7",\n    "tape": "^5.2.2",\n    "ts-node": "^9.1.1",\n    "typescript": "4.3.5",\n    "uuidv4": "^6.2.11"\n  },\n  "devDependencies": {\n    "@holochain/tryorama": "'.concat(n,'",\n    "@types/lodash": "^4.14.158",\n    "@types/node": "^14.0.14",\n    "@detools/tap-diff": "^0.2.2"\n  },\n  "type": "module"\n}\n')},jn=function(){return'{\n  "compilerOptions": {\n    /* Visit https://aka.ms/tsconfig.json to read more about this file */\n    /* Basic Options */\n    "outDir": "dist",\n    "target": "ES2017",\n    "module": "ESNext",\n    "moduleResolution": "node",\n    /* Strict Type-Checking Options */\n    "strict": true /* Enable all strict type-checking options. */,\n    "esModuleInterop": true /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies \'allowSyntheticDefaultImports\'. */,\n    "noImplicitAny": false /* Raise error on expressions and declarations with an implied \'any\' type. */,\n    /* Advanced Options */\n    "skipLibCheck": true /* Skip type checking of declaration files. */,\n    "forceConsistentCasingInFileNames": true /* Disallow inconsistently-cased references to the same file. */\n  }\n}\n'},vn=function(n){return'\nimport { Orchestrator } from "@holochain/tryorama";\n\n'.concat(sn(n.map((function(n){return n.zomes.map((function(e){return"import ".concat(e.name," from './").concat(n.name,"/").concat(e.name,"';\n")}))}))),"\nlet orchestrator: Orchestrator<any>;\n\n").concat(sn(n.map((function(n){return n.zomes.map((function(n){return"orchestrator = new Orchestrator();\n".concat(n.name,"(orchestrator);\norchestrator.run();\n\n")}))}))),"\n\n")},On=function(n,e){return'\nimport { Orchestrator, Player, Cell } from "@holochain/tryorama";\nimport { config, installation, sleep } from \'../utils\';\n\nexport default (orchestrator: Orchestrator<any>) => \n  orchestrator.registerScenario("'.concat(e.name,' tests", async (s, t) => {\n    // Declare two players using the previously specified config, nicknaming them "alice" and "bob"\n    // note that the first argument to players is just an array conductor configs that that will\n    // be used to spin up the conductor processes which are returned in a matching array.\n    const [alice_player, bob_player]: Player[] = await s.players([config, config]);\n\n    // install your happs into the conductors and destructuring the returned happ data using the same\n    // array structure as you created in your installation array.\n    const [[alice_happ]] = await alice_player.installAgentsHapps(installation);\n    const [[bob_happ]] = await bob_player.installAgentsHapps(installation);\n\n    await s.shareAllNodes([alice_player, bob_player]);\n\n    const alice = alice_happ.cells.find(cell => cell.cellNick.includes(\'/').concat(n.name,".dna')) as Cell;\n    const bob = bob_happ.cells.find(cell => cell.cellNick.includes('/").concat(n.name,'.dna\')) as Cell;\n\n    const postContents = "My Post";\n\n    // Alice creates a post\n    const postHash = await alice.call(\n        "').concat(e.name,'",\n        "create_post",\n        postContents\n    );\n    t.ok(postHash);\n\n    await sleep(50);\n    \n    // Bob gets the created post\n    const post = await bob.call("').concat(e.name,'", "get_post", postHash);\n    t.equal(post, postContents);\n});\n')},wn=function(n){return"import { Config, InstallAgentsHapps } from '@holochain/tryorama';\nimport path from 'path'\nimport { fileURLToPath } from \"url\";\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\n".concat(sn(n.dnas.map((function(e){return"export const ".concat(nn(e.name),'Dna = path.join(__dirname, "../../').concat(on(n,e.name),'");\n')}))),"\n\nexport const config = Config.gen();\n\nexport const installation: InstallAgentsHapps = [\n  // one agent\n  [\n    [").concat(sn(n.dnas.map((function(n){return"\n      ".concat(nn(n.name),"Dna, // contains this dna")}))),"\n    ]\n  ]\n];\n\nexport const sleep = (ms: number) => new Promise(resolve => setTimeout(() => resolve(null), ms));\n")};function xn(n){return[{type:F.Create,fileName:"package.json",content:yn("0.4.5")},{type:F.Create,fileName:"tsconfig.json",content:jn()},{type:F.InDir,dirName:"src",changes:[{type:F.Create,fileName:"index.ts",content:vn(n.dnas)},{type:F.Create,fileName:"utils.ts",content:wn(n)}].concat(Object(Z["a"])(kn(n.dnas)))}]}function kn(n){return n.map((function(n){return{type:F.InDir,dirName:n.name,changes:n.zomes.map((function(e){return{type:F.Create,fileName:"".concat(e.name,".ts"),content:On(n,e)}}))}}))}var Cn=function(n){return'# This is a basic workflow to help you get started with Actions\n\nname: CI\n\n# Controls when the action will run. Triggers the workflow on push or pull request\n# events but only for the main branch\non:\n  push:\n    branches: [ main ]\n  pull_request:\n    branches: [ main ]\n\n# A workflow run is made up of one or more jobs that can run sequentially or in parallel\njobs:\n  # This workflow contains a single job called "build"\n  build-and-test:\n    runs-on: ubuntu-latest\n\n    # Steps represent a sequence of tasks that will be executed as part of the job\n    steps:\n      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it\n      # Checks out a copy of your repository on the ubuntu-latest machine\n      - name: Checkout code\n        uses: actions/checkout@v2\n\n      - uses: cachix/install-nix-action@v12\n        with:\n          nix_path: nixpkgs=channel:nixos-unstable\n\n      - name: Create tag\n        id: create_tag\n        run: |\n          tag=$(npm version patch)\n          echo "::set-output name=tag::$tag"\n \n      - name: package\n        run: |\n          cd $GITHUB_WORKSPACE\n          nix-shell . --run "npm i && npm test && npm run package"\n  \n      - name: Release\n        uses: softprops/action-gh-release@v1\n        with:\n          tag_name: ${{ steps.create_tag.outputs.tag }}\n          draft: true\n          files: |\n            ./workdir/'.concat(n,".webhapp\n  \n")},_n=function(){return'# This is a basic workflow to help you get started with Actions\n\nname: CI\n\n# Controls when the action will run. Triggers the workflow on push or pull request\n# events but only for the main branch\non: [push, pull_request]\n\n# A workflow run is made up of one or more jobs that can run sequentially or in parallel\njobs:\n  # This workflow contains a single job called "build"\n  build-and-test:\n    runs-on: ubuntu-latest\n\n    # Steps represent a sequence of tasks that will be executed as part of the job\n    steps:\n      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it\n      # Checks out a copy of your repository on the ubuntu-latest machine\n      - name: Checkout code\n        uses: actions/checkout@v2\n\n      - uses: cachix/install-nix-action@v12\n        with:\n          nix_path: nixpkgs=channel:nixos-unstable\n\n      - name: build holochain\n        run: |\n          nix-env -iA cachix -f https://cachix.org/api/v1/install\n          cachix use holochain-ci\n          cd $GITHUB_WORKSPACE\n          nix-shell . --run "npm i && npm run build:happ"\n\n      - name: test holochain\n        run: |\n            cd $GITHUB_WORKSPACE\n            nix-shell . --run "npm test"\n\n        - name: build & package UI\n        run: |\n            cd $GITHUB_WORKSPACE\n            nix-shell . --run "npm run package"\n'};function Nn(n){return[{type:F.InDir,dirName:".github",changes:[{type:F.InDir,dirName:"workflows",changes:[{type:F.Create,fileName:"release.yml",content:Cn(n.name)},{type:F.Create,fileName:"test.yml",content:_n()}]}]}]}var An=function(){return"/node_modules/\n/dist/\n/target/\n/.cargo/\n*.happ\n*.webhapp\n*.zip\n*.dna\n.hc*\n.hc\n"},zn=function(n){return"\n# ".concat(n.name,"\n\n## Environment Setup\n\n1. Install the holochain dev environment (only nix-shell is required): https://developer.holochain.org/docs/install/\n2. Enable Holochain cachix with:\n\n```bash\nnix-env -iA cachix -f https://cachix.org/api/v1/install\ncachix use holochain-ci\n```\n\n3. Clone this repo and `cd` inside of it.\n4. Enter the nix shell by running this in the root folder of the repository: \n\n```bash\nnix-shell\nnpm install\n```\n\nThis will install all the needed dependencies in your local environment, including `holochain`, `hc` and `npm`.\n\n## Building the DNA\n\n- Build the DNA (assumes you are still in the nix shell for correct rust/cargo versions from step above):\n\n```bash\nnpm run build:happ\n```\n\n## Running the DNA tests\n\n```bash\nnpm run test\n```\n\n## UI\n\nTo test out the UI:\n\n``` bash\nnpm start\n```\n\nTo run another agent, open another terminal, and execute again:\n\n```bash\nnpm start\n```\n\nEach new agent that you create this way will get assigned its own port and get connected to the other agents.\n\n## Package\n\nTo package the web happ:\n\n``` bash\nnpm run package\n```\n\nYou'll have the `").concat(n.name,".webhapp` in `workdir`. This is what you should distribute so that the Holochain Launcher can install it.\n\nYou will also have its subcomponent `").concat(n.name,".happ` in the same folder`.\n\n## Documentation\n\nWe are using this tooling:\n\n- [NPM Workspaces](https://docs.npmjs.com/cli/v7/using-npm/workspaces/): npm v7's built-in monorepo capabilities.\n- [hc](https://github.com/holochain/holochain/tree/develop/crates/hc): Holochain CLI to easily manage Holochain development instances.\n- [@holochain/tryorama](https://www.npmjs.com/package/@holochain/tryorama): test framework.\n- [@holochain/conductor-api](https://www.npmjs.com/package/@holochain/conductor-api): client library to connect to Holochain from the UI.\n")};function Tn(n){return[].concat(Object(Z["a"])(hn()),Object(Z["a"])(En(n)),Object(Z["a"])(Rn(n)),Object(Z["a"])(Pn(n)),Object(Z["a"])(gn(n)),Object(Z["a"])(Nn(n)),Object(Z["a"])(Dn()),Object(Z["a"])(Sn(n)),[{type:F.InDir,dirName:"tests",changes:xn(n)}])}function In(n){return[{type:F.Create,fileName:"happ.yaml",content:fn(n)}]}function Dn(){return[{type:F.Create,fileName:".gitignore",content:An()}]}function Sn(n){return[{type:F.Create,fileName:"README.md",content:zn(n)}]}function En(n){return[{type:F.InDir,dirName:"workdir",changes:In(n)}]}function Pn(n){return 1===n.dnas.length?[{type:F.InDir,dirName:"dna",changes:pn(n.dnas[0],"../")}]:[{type:F.InDir,dirName:"dnas",changes:n.dnas.map((function(n){return{type:F.InDir,dirName:n.name,changes:pn(n,"../../")}}))}]}function Rn(n){return[{type:F.Create,fileName:"Cargo.toml",content:mn(n)}]}var Hn=function(n){var e=n.happName,t=n.uiBundlePath,a=n.happBundlePath;return'---\nmanifest_version: "1"\nname: '.concat(e,'\nui:\n  bundled: "').concat(t,'"\nhapp_manifest:\n  bundled: "').concat(a,'"\n')};function Bn(n){var e=n.happName,t=n.uiBundlePath,a=n.happBundlePath;return[{type:F.Create,fileName:"web-happ.yaml",content:Hn({happName:e,uiBundlePath:t,happBundlePath:a})}]}function Un(n){return[].concat(Object(Z["a"])(Tn(n)),[{type:F.InDir,dirName:"workdir",changes:Object(Z["a"])(Bn({happName:n.name,uiBundlePath:"../ui/dist.zip",happBundlePath:"./".concat(n.name,".happ")}))}])}t("11ed");var qn=function(n){return Object(a["v"])("data-v-0811b25e"),n=n(),Object(a["t"])(),n},Vn={class:"column",style:{position:"relative"}},Mn=qn((function(){return Object(a["g"])("h1",null,"Scaffold New App",-1)})),Zn={class:"column",style:{margin:"16px"}},$n={class:"tertiary-title"},Ln={class:"row",style:{"margin-top":"16px"}},Gn=qn((function(){return Object(a["g"])("span",{style:{flex:"1"}},null,-1)})),Fn={style:{"margin-top":"16px","margin-bottom":"12px"},class:"row center"},Kn=qn((function(){return Object(a["g"])("span",{class:"secondary-title",style:{flex:"1"}},"DNA Slots",-1)})),Wn={class:"column"},Yn={class:"row"},Jn={class:"column",style:{margin:"16px","margin-bottom":"4px",flex:"1"}},Xn={style:{flex:"1"},class:"tertiary-title"},Qn={class:"row center",style:{margin:"4px 16px"}},ne=qn((function(){return Object(a["g"])("span",{style:{flex:"1","font-size":"18px"}},"Zomes",-1)})),ee=qn((function(){return Object(a["g"])("span",{style:{width:"100%",height:"1px","background-color":"lightgrey"}},null,-1)})),te={class:"column"},ae={class:"row",style:{"align-items":"stretch"}},oe=qn((function(){return Object(a["g"])("span",{style:{width:"1px","background-color":"lightgrey"}},null,-1)})),re={class:"row",style:{flex:"1","align-self":"start"}},ce=qn((function(){return Object(a["g"])("span",{style:{flex:"1"}},null,-1)}));function ie(n,e,t,o,r,c){var i=Object(a["z"])("mwc-textfield"),s=Object(a["z"])("mwc-list-item"),l=Object(a["z"])("mwc-select"),u=Object(a["z"])("ui5-card"),p=Object(a["z"])("mwc-button"),d=Object(a["z"])("mwc-icon-button"),h=Object(a["z"])("mwc-list"),m=Object(a["z"])("mwc-fab");return Object(a["s"])(),Object(a["f"])(a["a"],null,[Object(a["g"])("div",Vn,[Mn,Object(a["j"])(u,{style:{width:"auto"}},{default:Object(a["E"])((function(){return[Object(a["g"])("div",Zn,[Object(a["g"])("span",$n,"App: "+Object(a["B"])(n.happ.name),1),Object(a["g"])("div",Ln,[Object(a["j"])(i,{label:"hApp Name",class:"text-input",required:"",autoValidate:"",outlined:"",validationMessage:"Must not be empty",helper:"The name of your app",onInput:e[0]||(e[0]=function(e){return n.setHappName(e.target)}),ref:"happName"},null,512),Gn,Object(a["j"])(l,{outlined:"",label:"UI Template",value:"svelte",ref:"uiTemplateSelect",style:{right:"16px",position:"absolute"}},{default:Object(a["E"])((function(){return[(Object(a["s"])(!0),Object(a["f"])(a["a"],null,Object(a["y"])(n.UiTemplates,(function(n,e){return Object(a["s"])(),Object(a["d"])(s,{key:e,value:n},{default:Object(a["E"])((function(){return[Object(a["i"])(Object(a["B"])(n),1)]})),_:2},1032,["value"])})),128))]})),_:1},512)])])]})),_:1}),Object(a["g"])("div",Fn,[Kn,Object(a["j"])(p,{icon:"add",label:"Add dna",onClick:e[1]||(e[1]=function(e){return n.addDna()})})]),(Object(a["s"])(!0),Object(a["f"])(a["a"],null,Object(a["y"])(n.happ.dnas,(function(t,o){return Object(a["s"])(),Object(a["d"])(u,{style:{width:"auto","margin-bottom":"16px"},key:o},{default:Object(a["E"])((function(){return[Object(a["g"])("div",Wn,[Object(a["g"])("div",Yn,[Object(a["g"])("div",Jn,[Object(a["g"])("span",Xn,"DNA: "+Object(a["B"])(t.name),1),Object(a["j"])(i,{label:"DNA Name",outlined:"",required:"",name:"dna-".concat(o),ref:"dna-".concat(o),style:{"margin-top":"16px"},onFocus:function(e){return n.dnaValidity(e.target,t.name)},onInput:function(e){return e.target.validity.valid&&n.setDnaName(o,e.target.value)},class:"text-input",helper:"Has to be unique",autoValidate:""},null,8,["name","onFocus","onInput"])]),Object(a["j"])(d,{disabled:n.happ.dnas.length<2,onClick:function(e){return n.happ.dnas.splice(o,1)},icon:"delete"},null,8,["disabled","onClick"])]),Object(a["g"])("div",Qn,[ne,Object(a["j"])(p,{icon:"add",label:"Add zome",onClick:function(e){return t.zomes.push({name:"new_zome_".concat(n.zomeCount++)})}},null,8,["onClick"])]),ee,Object(a["g"])("div",te,[Object(a["g"])("div",ae,[Object(a["j"])(h,{style:{width:"200px"},activatable:""},{default:Object(a["E"])((function(){return[(Object(a["s"])(!0),Object(a["f"])(a["a"],null,Object(a["y"])(t.zomes,(function(e,t){return Object(a["s"])(),Object(a["d"])(s,{key:e.name,activated:n.selectedZomes[o]===t,onClick:function(e){return n.selectedZomes[o]=t}},{default:Object(a["E"])((function(){return[Object(a["i"])(Object(a["B"])(e.name),1)]})),_:2},1032,["activated","onClick"])})),128))]})),_:2},1024),oe,Object(a["g"])("div",re,[Object(a["j"])(i,{label:"Zome Name",class:"text-input",onFocus:e[2]||(e[2]=function(e){return n.zomeValidity(e.target)}),onInput:function(e){return e.target.validity.valid&&n.setZomeName(o,e.target.value)},required:"",outlined:"",helper:"Has to be unique, and snake_case",autoValidate:"",name:"dna-".concat(o,"-zome-").concat(n.selectedZomes[o]),ref:"dna-".concat(o,"-zome-").concat(n.selectedZomes[o]),style:{margin:"8px","margin-top":"16px"}},null,8,["onInput","name"]),ce,Object(a["j"])(d,{disabled:t.zomes.length<2,onClick:function(e){return n.deleteSelectedZome(o)},icon:"delete"},null,8,["disabled","onClick"])])])])])]})),_:2},1024)})),128))]),Object(a["j"])(m,{onClick:e[3]||(e[3]=function(e){return n.requestScaffold()}),style:{position:"fixed",bottom:"16px",right:"16px","--mdc-theme-secondary":"#4720e3"},label:"Scaffold app",extended:"",icon:"system_update_alt"})],64)}t("62c8"),t("841a");var se=["svelte","vue","lit"],le=Object(a["k"])({name:"AppDefinitionBuilder",data:function(){return{UiTemplates:se,selectedZomes:[0],dnaCount:1,zomeCount:1,happ:{name:"my-app",dnas:[{name:"my-dna",zomes:[{name:"my_zome"}]}]}}},updated:function(){var n=this;this.$nextTick((function(){setTimeout((function(){n.updateValues()}))}))},mounted:function(){var n=this;this.$nextTick((function(){setTimeout((function(){n.updateValues()}))}))},methods:{requestScaffold:function(){var n=this.$refs.uiTemplateSelect.value;this.$emit("scaffoldApp",{happ:this.happ,uiTemplate:n})},setHappName:function(n){n.validity.valid&&(this.happ.name=n.value)},updateValues:function(){var n=this.$refs;n.happName.value=this.happ.name;for(var e=0;e<this.happ.dnas.length;e++){var t=this.happ.dnas[e];n["dna-".concat(e)].value=t.name;var a=this.selectedZomes[e];n["dna-".concat(e,"-zome-").concat(a)].value=t.zomes[a].name}},addDna:function(){var n="new-dna-".concat(this.dnaCount++);this.happ.dnas.push({name:n,zomes:[{name:"new_zome_".concat(this.zomeCount++)}]}),this.selectedZomes[this.happ.dnas.length-1]=0},deleteSelectedZome:function(n){var e=this.happ.dnas[n],t=this.selectedZomes[n];e.zomes.splice(t,1),0!==this.selectedZomes[n]&&this.selectedZomes[n]--},dnaValidity:function(n,e){var t=this;n.validityTransform=function(e,a){if(""===e)return n.setCustomValidity("Must not be empty"),{valid:!1};var o=n.name.split("-"),r=parseInt(o[1]);return t.happ.dnas.find((function(n,t){return!(r===t)&&n.name===e}))?(n.setCustomValidity("The DNA name has to be unique"),{valid:!1}):(n.setCustomValidity(""),{valid:!0})}},setDnaName:function(n,e){this.happ.dnas[n].name=e},zomeValidity:function(n){var e=this;n.validityTransform=function(t,a){if(""===t)return n.setCustomValidity("Must not be empty"),{valid:!1};var o=n.name.split("-"),r=parseInt(o[1]),c=parseInt(o[3]);return e.happ.dnas.find((function(n,e){return n.zomes.find((function(n,a){return!(r===e&&c===a)&&n.name===t}))}))?(n.setCustomValidity("The zome name has to be unique"),{valid:!1}):(n.setCustomValidity(""),{valid:!0})}},setZomeName:function(n,e){var t=this.happ.dnas[n];t.zomes[this.selectedZomes[n]].name=an(e)}},emits:["scaffoldApp"]});t("a648");const ue=i()(le,[["render",ie],["__scopeId","data-v-0811b25e"]]);var pe=ue,de=["text"];function he(n,e,t,o,r,c){var i=Object(a["z"])("FileNode",!0);return Object(a["s"])(!0),Object(a["f"])(a["a"],null,Object(a["y"])(t.fileTree,(function(n,e){return Object(a["s"])(),Object(a["f"])("ui5-tree-item",{key:e,text:"InDir"===n.type?n.dirName:n.fileName},["InDir"===n.type?(Object(a["s"])(),Object(a["d"])(i,{key:0,fileTree:n.changes},null,8,["fileTree"])):Object(a["e"])("",!0)],8,de)})),128)}var me={name:"FileNode",props:{fileTree:Array}};const fe=i()(me,[["render",he]]);var be=fe,ge=t("cf28"),ye=(t("6559"),t("bb01")),je=t.n(ye),ve=t("364d"),Oe=t.n(ve);function we(n,e){return new Promise((function(t,a){Oe.a.getBinaryContent("/templates/".concat(n,".zip"),(function(n,o){n?a(n):je.a.loadAsync(o).then((function(n){return xe(n,e)})).then((function(n){return t(n)})).catch(a)}))}))}function xe(n,e){return ke.apply(this,arguments)}function ke(){return ke=Object($["a"])(regeneratorRuntime.mark((function n(e,t){var a,o,r,c,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=[],o=0,r=Object.entries(e.files);case 2:if(!(o<r.length)){n.next=10;break}if(c=Object(ge["a"])(r[o],2),i=c[0],s=c[1],s.dir){n.next=7;break}return n.next=7,Ce(i.split("/"),a,s,t);case 7:o++,n.next=2;break;case 10:return n.abrupt("return",a);case 11:case"end":return n.stop()}}),n)}))),ke.apply(this,arguments)}function Ce(n,e,t,a){return _e.apply(this,arguments)}function _e(){return _e=Object($["a"])(regeneratorRuntime.mark((function n(e,t,a,o){var r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t,c=regeneratorRuntime.mark((function n(){var t,c,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t=e.splice(0,1),c=Object(ge["a"])(t,1),i=c[0],0!==e.length){n.next=14;break}return n.t0=r,n.t1=F.Create,n.t2=i,n.t3=o,n.next=8,a.async("text");case 8:n.t4=n.sent,n.t5=(0,n.t3)(n.t4),n.t6={type:n.t1,fileName:n.t2,content:n.t5},n.t0.push.call(n.t0,n.t6),n.next=17;break;case 14:s=r.find((function(n){return n.type===F.InDir&&n.dirName===i})),s||(s={type:F.InDir,dirName:i,changes:[]},r.push(s)),r=s.changes;case 17:case"end":return n.stop()}}),n)}));case 2:if(!(e.length>0)){n.next=6;break}return n.delegateYield(c(),"t0",4);case 4:n.next=2;break;case 6:case"end":return n.stop()}}),n)}))),_e.apply(this,arguments)}var Ne=function(n){return"HC_SCAFFOLDING{".concat(n,"}")};function Ae(n,e){for(var t=0,a=Object.entries(e);t<a.length;t++){var o=Object(ge["a"])(a[t],2),r=o[0],c=o[1];n=n.replace(Ne(r),c)}return n}var ze=Object(a["k"])({name:"Scaffold",components:{AppDefinitionBuilder:pe,FileNode:be},data:function(){return{settingUp:!1,currentDir:void 0,fileChanges:void 0,happName:void 0}},mounted:function(){var n=this;return Object($["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:G.emit(M.ReadDir,(function(e){return n.currentDir=e.dirPath}));case 1:case"end":return e.stop()}}),e)})))()},methods:{setup:function(){this.settingUp=!0,G.emit(M.AutomaticSetup,this.happName)},close:function(){G.emit(M.Exit)},scaffoldApp:function(){G.emit(M.ApplyChanges,[{type:F.InDir,dirName:this.happName,changes:this.fileChanges}]),this.$refs.helpdialog.show()},generateFileChanges:function(n){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var a,o,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=n.happ,o=n.uiTemplate,t.next=3,we(o,(function(n){return Ae(n,{installedAppId:a.name,zomeName:a.dnas[0].zomes[0].name})}));case 3:r=t.sent,c={type:F.InDir,dirName:"ui",changes:r},e.fileChanges=[].concat(Object(Z["a"])(Un(a)),[c]),e.happName=a.name,e.$refs.dialog.show();case 8:case"end":return t.stop()}}),t)})))()}}});t("3e17");const Te=i()(ze,[["render",V],["__scopeId","data-v-674c3f78"]]);var Ie=Te,De=Object(a["k"])({name:"Home",components:{Scaffold:Ie},methods:{open:function(n){window.open(n)}}});t("d17e");const Se=i()(De,[["render",w],["__scopeId","data-v-4b114c66"]]);var Ee=Se,Pe=[{path:"/",name:"Home",component:Ee},{path:"/about",name:"About",component:function(){return t.e("about").then(t.bind(null,"f820"))}}],Re=Object(u["a"])({history:Object(u["b"])("/"),routes:Pe}),He=Re,Be=t("78db"),Ue=Object(Be["a"])({state:{},mutations:{},actions:{},modules:{}});t("5906"),t("3fbb"),t("1e81"),t("fb2f"),t("abf2"),t("55df"),t("a6b0"),t("becb"),t("3cc8");Object(a["c"])(l).use(He).use(Ue).mount("#app")},d17e:function(n,e,t){"use strict";t("bc29")},fb43:function(n,e,t){"use strict";t("9c15")}});